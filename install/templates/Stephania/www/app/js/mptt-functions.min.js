window.Registry=function(){"use strict";function t(t){var e=!1;return"function"==typeof t.getInstance&&(e=!0),e}function e(e,n){if(!t(n))throw new Error('Invalide module "'+e+'". The function "getInstance" is not defined.');s[e]=n}function n(e){for(var n in e)if(e.hasOwnProperty(n)){if(!t(e[n]))throw new Error('Invalide module "'+n+'" inside the collection. The function "getInstance" is not defined.');s[n]=e[n]}}function a(t){delete s[t]}function i(t){var e=s[t];if(!e)throw new Error('The module "'+t+'" has not been registered or it was unregistered.');if("function"!=typeof e.getInstance)throw new Error('The module "'+t+'" can not be instantiated. The function "getInstance" is not defined.');return s[t].getInstance()}var s={};return{register:e,unregister:a,_get:i,registryMap:n}}(),Registry.register("adminFunctions",function(t){"use strict";function e(){return{wpAjax:function(t,e,n){t.mptt_action=t.action,delete t.action,wp.ajax.send("route_url",{success:function(t){!_.isUndefined(n)&&_.isFunction(n)&&e(t)},error:function(t){!_.isUndefined(n)&&_.isFunction(n)?n(t):console.log(t)},data:t})},initJBox:function(t,e,s){a=t,i=e,n.buttonEvents(s)},buttonEvents:function(e){i.find("#insert-into").off("click").on("click",function(){e(t(this).parents("form").serializeArray())})},callModal:function(e,n,a){var i=t(window).outerHeight()-60,s=t(window).outerWidth()-60,r=(wp.html.string({tag:"span",attrs:{"class":"spinner is-active"},content:""}),{content:e,closeOnEsc:!0,animation:{open:"zoomIn",close:"zoomOut"},width:s,height:i,closeButton:"title",title:"Shortcode Settings",onOpen:function(){var e=t("#"+this.id);n.call(this,e)},onClose:function(){t("#"+this.id).remove()}});_.isUndefined(a)||t.extend(r,a);var o=new jBox("Modal",r);o.open()},parseRequest:function(e){var n,a=location.search,i={};return _.isEmpty(a)||"?"===a?i:(a=a.replace("?",""),n=a.split("&"),t.each(n,function(){var t=this;t=t.split("="),i[t[0]]=t[1]}),_.isUndefined(e)?i:i[e])},generateHTML:function(e){var a,i="";if(_.isObject(e)){var s=document.createElement(e.tag);_.isUndefined(e.attrs)||t.each(e.attrs,function(t,e){_.isUndefined(e)||""===e||s.setAttribute(t,e)}),_.isArray(e.content)?(t.each(e.content,function(t,e){i+=n.generateHTML(e)}),t(s).html(i)):_.isObject(e.content)?(i=n.generateHTML(e.content),t(s).html(i)):_.isUndefined(e.content)?t(s).html(""):t(s).html(e.content),a=t(s).get(0).outerHTML}else a=_.isString(e)?e:!1;return a},getHtml:function(e,a){if(_.isUndefined(e))return!1;var i=!1;if(_.isUndefined(a)&&(_.isArray(e)?(i="",t.each(e,function(t,e){i+=n.generateHTML(e)})):i=n.generateHTML(e)),_.isObject(a)){var s=_.template(i);i=s(a)}return i}}}var n,a,i;return{getInstance:function(){return n||(n=e()),n}}}(jQuery)),function(t){"use strict";t(document).ready(function(){var e=t(".mptt-shortcode-wrapper");if("undefined"!=typeof typenow&&pagenow===typenow)switch(typenow){case"mp-event":Registry._get("Event").init();break;case"mp-column":Registry._get("Event").initDatePicker(),Registry._get("Event").columnRadioBox()}e.length&&(Registry._get("Event").initTableData(),Registry._get("Event").filterShortcodeEvents(),Registry._get("Event").getFilterByHash(),t(".mptt-shortcode-wrapper").show()),(t(".upcoming-events-widget").length||e.length)&&Registry._get("Event").setColorSettings()})}(jQuery);
